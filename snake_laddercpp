#include <iostream>
#include <map>
#include <cstdlib>
#include <ctime>

using namespace std;

struct Player {
    int id;
    int position;
};

int rollDice() {
    return rand() % 6 + 1;
}

void movePlayer(Player &player,
                int dice,
                map<int, int> &snakes,
                map<int, int> &ladders) {

    int newPosition = player.position + dice;

    if (newPosition > 100) {
        cout << "Dice too large. Turn skipped." << endl;
        return;
    }

    player.position = newPosition;

    if (snakes.count(player.position)) {
        cout << "Snake! Going down." << endl;
        player.position = snakes[player.position];
    }
    else if (ladders.count(player.position)) {
        cout << "Ladder! Going up." << endl;
        player.position = ladders[player.position];
    }
}

int main() {
    srand(time(0));

    Player players[4];
    for (int i = 0; i < 4; i++) {
        players[i].id = i + 1;
        players[i].position = 0;
    }

    map<int, int> snakes = {
        {16, 6},
        {48, 26},
        {62, 19},
        {88, 24}
    };

    map<int, int> ladders = {
        {3, 22},
        {5, 8},
        {11, 26},
        {20, 29}
    };

    int currentPlayer = 0;

    cout << "Snake and Ladder Game (4 Players)" << endl;

    while (true) {
        Player &player = players[currentPlayer];

        cout << "\nPlayer " << player.id
             << " - Press Enter to roll the dice...";
        cin.get();

        int dice = rollDice();
        cout << "Dice: " << dice << endl;

        movePlayer(player, dice, snakes, ladders);

        cout << "Player " << player.id
             << " position: " << player.position << endl;

        if (player.position == 100) {
            cout << "\nPlayer " << player.id
                 << " wins the game!" << endl;
            break;
        }

        currentPlayer = (currentPlayer + 1) % 4;
    }

    return 0;
}
