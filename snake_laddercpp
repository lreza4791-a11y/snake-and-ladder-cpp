#include <iostream>
#include <map>
#include <cstdlib>
#include <ctime>

using namespace std;

int rollDice() {
    return rand() % 6 + 1;
}

int main() {
    srand(time(0));

    int positions[4] = {0, 0, 0, 0};
    int currentPlayer = 0;

    map<int, int> snakes = {
        {16, 6},
        {48, 26},
        {62, 19},
        {88, 24}
    };

    map<int, int> ladders = {
        {3, 22},
        {5, 8},
        {11, 26},
        {20, 29}
    };

    cout << "Snake and Ladder Game (4 Players)" << endl;

    while (true) {
        cout << "\nPlayer " << currentPlayer + 1 
             << " - Press Enter to roll the dice...";
        cin.get();

        int dice = rollDice();
        cout << "Dice: " << dice << endl;

        int newPosition = positions[currentPlayer] + dice;

        
        if (newPosition <= 100) {
            positions[currentPlayer] = newPosition;

            if (snakes.count(positions[currentPlayer])) {
                cout << "Snake! Going down." << endl;
                positions[currentPlayer] = snakes[positions[currentPlayer]];
            }
            else if (ladders.count(positions[currentPlayer])) {
                cout << "Ladder! Going up." << endl;
                positions[currentPlayer] = ladders[positions[currentPlayer]];
            }
        } else {
            cout << "Dice too large. Turn skipped." << endl;
        }

        cout << "Player " << currentPlayer + 1
             << " position: " << positions[currentPlayer] << endl;

        // بررسی برنده
        if (positions[currentPlayer] == 100) {
            cout << "\nPlayer " << currentPlayer + 1 
                 << " wins the game!" << endl;
            break;
        }
         currentPlayer = (currentPlayer + 1) % 4;
    }

    return 0;
}
