#include <iostream>
#include <map>
#include <cstdlib>
#include <ctime>

using namespace std;

struct Player {
    int pos = 0;
};

map<int, int> snakes = {
    {16, 6},
    {48, 26},
    {62, 19},
    {88, 24}
};

map<int, int> ladders = {
    {3, 22},
    {5, 8},
    {11, 26},
    {20, 29}
};

int roll_dice() {
    return rand() % 6 + 1;
}

bool check_winner(Player players[], int count) {
    for (int i = 0; i < count; i++) {
        if (players[i].pos == 100)
            return true;
    }
    return false;
}

void move(Player& player, int value) {
    int newPos = player.pos + value;

    if (newPos > 100)
        return;

    player.pos = newPos;

    if (snakes.count(player.pos)) {
        player.pos = snakes[player.pos];
    }
    else if (ladders.count(player.pos)) {
        player.pos = ladders[player.pos];
    }
}

int main() {
    srand(time(0));

    const int PLAYER_COUNT = 4;
    Player players[PLAYER_COUNT];
    int currentPlayer = 0;

    cout << "Snake and Ladder Game (4 Players)" << endl;

    while (true) {
        cout << "\nPlayer " << currentPlayer + 1
             << " - Press Enter to roll dice...";
        cin.get();

        int dice = roll_dice();
        cout << "Dice: " << dice << endl;

        move(players[currentPlayer], dice);

        cout << "Player " << currentPlayer + 1
             << " position: " << players[currentPlayer].pos << endl;

        if (players[currentPlayer].pos == 100) {
            cout << "\nPlayer " << currentPlayer + 1
                 << " wins the game!" << endl;
            break;
        }

        currentPlayer = (currentPlayer + 1) % PLAYER_COUNT;
    }

    return 0;
}
